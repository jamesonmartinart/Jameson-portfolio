const WORK = [
  // Posters / Personal / Spec
  {
    title: "Destroyer — Poster (Personal)",
    slug: "2024-destroyer-poster",
    year: "2024",
    thumb: "/assets/work/destroyer-poster-thumb.jpg",
    images: ["/assets/work/2024-destroyer-poster.jpg"],
    description: ""
  },
  {
    title: "The War On Drugs — Poster (Personal / Spec)",
    slug: "2024-war-on-drugs-poster",
    year: "2024",
    thumb: "/assets/work/war-on-drugs-poster-personal-thumb.jpg",
    images: ["/assets/work/2024-war-on-drugs-poster.jpg"],
    description: ""
  },
  {
    title: "You Are Now — Poster (Personal)",
    slug: "2024-you-are-now-personal",
    year: "2024",
    // No thumb file shown for this one, so we use one of the images as the thumb
    thumb: "/assets/work/you-are-now-poster-personal.jpg",
    images: [
      "/assets/work/2024-you-are-now-personal.jpg",
      "/assets/work/you-are-now-poster-personal.jpg"
    ],
    description: ""
  },

  // Music / Album art / Mockups
  {
    title: "Darksoft — Cassette Tape Mockup",
    slug: "2025-darksoft-cassette-tape-mockup",
    year: "2025",
    thumb: "/assets/work/darksoft-mockup-thumb.jpg",
    images: ["/assets/work/2025-darksoft-cassette-tape-mockup.jpg"],
    description: ""
  },
  {
    title: "Eric Zayne — Album Art",
    slug: "2025-eric-zayne-album-art",
    year: "2025",
    thumb: "/assets/work/eric-zayne-single-art-thumb.jpg",
    images: ["/assets/work/2025-eric-zayne-album-art.jpg"],
    description: ""
  },

  // Posters / Personal
  {
    title: "Free Poster — Personal",
    slug: "2025-free-poster-personal",
    year: "2025",
    thumb: "/assets/work/free-poster-personal-thumb.jpg",
    images: ["/assets/work/2025-free-poster-personal.jpg"],
    description: ""
  },
  {
    title: "Sungazer — Poster",
    slug: "2025-sungazer-poster",
    year: "2025",
    thumb: "/assets/work/sungazer-poster-personal-thumb.jpg",
    images: ["/assets/work/2025-sungazer-poster.jpg"],
    description: ""
  },

  // Merch / Layout
  {
    title: "Paradise Festival — Merch Mockup",
    slug: "2025-paradise-merch-mockup",
    year: "2025",
    thumb: "/assets/work/paradise-festival-merch-thumb.jpg",
    images: ["/assets/work/2025-paradise-merch-mockup.jpg"],
    description: ""
  },
  {
    title: "Shane Sato — Vinyl Layout Mockup",
    slug: "2025-ss-vinyl-layout-mockup",
    year: "2025",
    thumb: "/assets/work/shane-sato-vinyl-layout-thumb.jpg",
    images: ["/assets/work/2025-ss-vinyl-layout-mockup.jpg"],
    description: ""
  },
  {
    title: "Neighbourhood — Merch Mockup",
    slug: "2026-neighbourhood-merch-mockup",
    year: "2026",
    thumb: "/assets/work/neighbourhood-merch-mockup-thumb.jpg",
    images: ["/assets/work/neighbourhood-merch-mockup.jpg"],
    description: ""
  },

  // Hot Creations covers (1–6)
  {
    title: "Hot Creations — Cover 1",
    slug: "2025-hot-creations-cover-1",
    year: "2025",
    thumb: "/assets/work/2025-hot-creations-cover-1.jpg",
    images: ["/assets/work/2025-hot-creations-cover-1.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 2",
    slug: "2025-hot-creations-cover-2",
    year: "2025",
    thumb: "/assets/work/2025-hot-creations-cover-2.jpg",
    images: ["/assets/work/2025-hot-creations-cover-2.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 3",
    slug: "2025-hot-creations-cover-3",
    year: "2025",
    thumb: "/assets/work/2025-hot-creations-cover-3.jpg",
    images: ["/assets/work/2025-hot-creations-cover-3.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 4",
    slug: "2025-hot-creations-cover-4",
    year: "2025",
    thumb: "/assets/work/2025-hot-creations-cover-4.jpg",
    images: ["/assets/work/2025-hot-creations-cover-4.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 5",
    slug: "2025-hot-creations-cover-5",
    year: "2025",
    thumb: "/assets/work/2025-hot-creations-cover-5.jpg",
    images: ["/assets/work/2025-hot-creations-cover-5.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 6",
    slug: "2025-hot-creations-cover-6",
    year: "2025",
    thumb: "/assets/work/2025-hot-creations-cover-6-thumb.jpg",
    images: ["/assets/work/2025-hot-creations-cover-6.jpg"],
    description: ""
  },

  // Thumbs-only items (no full-size image shown in your file list)
  // These will still work (they’ll just open the thumb as the project image).
  {
    title: "Hot Creations — Cover 8 (Preview)",
    slug: "hot-creation-cover-8",
    year: "2025",
    thumb: "/assets/work/hot-creation-cover-8-thumb.jpg",
    images: ["/assets/work/hot-creation-cover-8-thumb.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 13 (Preview)",
    slug: "hot-creation-cover-13",
    year: "2025",
    thumb: "/assets/work/hot-creation-cover-13-thumb.jpg",
    images: ["/assets/work/hot-creation-cover-13-thumb.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 14 (Preview)",
    slug: "hot-creation-cover-14",
    year: "2025",
    thumb: "/assets/work/hot-creation-cover-14-thumb.jpg",
    images: ["/assets/work/hot-creation-cover-14-thumb.jpg"],
    description: ""
  },
  {
    title: "Hot Creations — Cover 15 (Preview)",
    slug: "hot-creation-cover-15",
    year: "2025",
    thumb: "/assets/work/hot-creation-cover-15-thumb.jpg",
    images: ["/assets/work/hot-creation-cover-15-thumb.jpg"],
    description: ""
  },

  // 2026
  {
    title: "Just Say No — Poster (Personal)",
    slug: "2026-just-say-no-red-pink",
    year: "2026",
    thumb: "/assets/work/just-say-no-poster-personal-thumb-4.jpg",
    images: ["/assets/work/2026-just-say-no-red-pink.jpg"],
    description: ""
  }
];

// Footer year
document.querySelectorAll("#year").forEach(el => el.textContent = new Date().getFullYear());

// Render grid if present
const grid = document.getElementById("workGrid");
if (grid) {
  grid.innerHTML = WORK.map(p => {
    return `
      <a class="card" href="/project.html?slug=${encodeURIComponent(p.slug)}" aria-label="${escapeHtml(p.title)}">
        <img class="thumb" src="${p.thumb}" alt="${escapeHtml(p.title)}" loading="lazy" />
      </a>
    `;
  }).join("");
}

// Render project if present
const projectEl = document.getElementById("project");
if (projectEl) {
  const params = new URLSearchParams(location.search);
  const slug = params.get("slug");
  const p = WORK.find(x => x.slug === slug) || WORK[0];

  document.title = `Jameson Martin — ${p.title}`;
  projectEl.innerHTML = `
    <h1>${escapeHtml(p.title)}</h1>
    <p class="meta">${escapeHtml(p.year || "")}</p>
    ${p.images.map(src => `<img src="${src}" alt="${escapeHtml(p.title)}" loading="lazy" />`).join("")}
    ${p.description ? `<p class="meta">${escapeHtml(p.description)}</p>` : ""}
  `;
}

function escapeHtml(str) {
  return String(str).replace(/[&<>"']/g, s => ({
    "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#039;"
  }[s]));
}
